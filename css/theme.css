/* ================== Theme Color Variables ================== */

body { /* Base variables that don't change with theme, or define a default state if no theme class is applied */
    --fab-size: 56px;
    --success-color: #28a745; /* Green */
    --warning-color: #ffc107; /* Yellow */
    --danger-color: #dc3545;  /* Red */
}

/* ==== Dark Theme (Default via body.dark) ==== */
body.dark {
    /* Core Palette */
    --primary-color: #333333; /* Dark Gray base (background context) */
    --secondary-color: #4F4F4F; /* Medium Dark Gray (background context) */

    --interactive-accent-color: #8b5cf6; /* Purple accent for interactive elements */
    --interactive-accent-color-faded: rgba(139, 92, 246, 0.2);
    --interactive-accent-color-darker: #7c3aed; /* A darker shade of the accent */

    /* Backgrounds */
    --body-bg-color: #242424; /* Dark gray for body */
    --header-bg-color: #1A1A1A; /* Slightly darker for header */
    --card-bg-color: #2E2E2E;
    --card-bg-hover-color: #383838;
    --modal-content-bg: #2C2C2C;
    --modal-backdrop-bg: rgba(0,0,0,0.75); /* Darker backdrop */
    --input-bg-color: #3D3D3D;
    --form-section-bg-color: #292929;
    --button-secondary-bg-color: #4A4A4A;
    --button-secondary-hover-bg-color: #5A5A5A;
    --danger-bg-color: rgba(220, 53, 69, 0.1);
    --danger-border-color: var(--danger-color);

    /* Text */
    --text-color-main: #E0E0E0;
    --text-color-subtle: #B0B0B0;
    --text-color-emphasis: #FFFFFF;
    --text-color-placeholder: #888888;
    --main-logo-color: var(--interactive-accent-color);
    --sub-logo-color: var(--text-color-subtle);
    --button-text-color: #FFFFFF;
    --button-hover-text-color: #FFFFFF;
    --button-text-color-on-accent: #FFFFFF;
    --button-text-color-on-warning: #000000;
    --button-secondary-text-color: var(--text-color-main);

    /* Borders */
    --header-border-color: #3A3A3A;
    --card-border-color: #454545;
    --input-border-color: #505050;
    --border-color-soft: #404040;
    --button-border-color: #555555;

    /* Buttons & Interactive Elements */
    --button-bg-color: var(--secondary-color);
    --button-hover-bg-color: #5A5A5A;
    --fab-bg-color: var(--interactive-accent-color); /* FABs use accent color */
    --fab-hover-bg-color: var(--interactive-accent-color-darker);
    --fab-text-color: #FFFFFF;
    /* success, warning, danger moved to body general */
    --danger-color-faded: rgba(220, 53, 69, 0.3);

    /* Shadows */
    --shadow-color-soft: rgba(0,0,0,0.2);
    --shadow-color-medium: rgba(0,0,0,0.3);
    --shadow-color-strong: rgba(0,0,0,0.4);
    --fab-shadow-color: var(--shadow-color-medium);

    /* Mobile Navigation (Dark specific if different from general dark component styling) */
    --mobile-nav-bg-color: #1E1E1E;
    --mobile-nav-border-color: var(--header-border-color);
    --mobile-nav-text-color: var(--text-color-subtle);
    --mobile-menu-panel-bg-color: #282828;
    --mobile-menu-panel-text-color: var(--text-color-main);
    --mobile-menu-panel-hover-bg-color: #333333;
    --mobile-menu-panel-divider-color: var(--header-border-color);

    /* Specific for new FAB nav dark theme from original theme.css, may need review during nav consolidation */
    --dark-mobile-nav-bg-color: #222;
    --dark-text-color: #eee;
    --dark-border-color: #444;
    --accent-color-dark-theme: var(--interactive-accent-color);


    /* Glow effects */
    --glow-effect-color-1: rgba(139, 92, 246, 0.1);
    --glow-effect-color-2: rgba(139, 92, 246, 0.07);
    --glow-effect-color-3: rgba(168, 85, 247, 0.05);
}

/* ==== Light Theme (Overrides) ==== */
body.light-theme {
    /* Core Palette */
    --primary-color: #FFFFFF; /* Bright White base (background context) */
    --secondary-color: #F0F0F8; /* Cold White / Very Light Gray (background context) */

    --interactive-accent-color: #8b5cf6; /* Purple accent - can be same or different for light theme */
    --interactive-accent-color-faded: rgba(139, 92, 246, 0.15);
    --interactive-accent-color-darker: #7c3aed;

    /* Backgrounds */
    --body-bg-color: #FDFDFD;
    --header-bg-color: #FFFFFF;
    --card-bg-color: #FFFFFF;
    --card-bg-hover-color: #F7F7FD;
    --modal-content-bg: #FFFFFF;
    --modal-backdrop-bg: rgba(50,50,90,0.3);
    --input-bg-color: #FFFFFF;
    --form-section-bg-color: #F9F9FC;
    --button-secondary-bg-color: #E9E9F3;
    --button-secondary-hover-bg-color: #D9D9E3;
    --danger-bg-color: rgba(211, 47, 47, 0.05);
    --danger-border-color: var(--danger-color);

    /* Text */
    --text-color-main: #1A1A2E;
    --text-color-subtle: #4A4A6E;
    --text-color-emphasis: #000000;
    --text-color-placeholder: #777788;
    --main-logo-color: var(--interactive-accent-color);
    --sub-logo-color: var(--text-color-subtle);
    --button-text-color: var(--text-color-main); /* Text on default buttons is dark in light theme */
    --button-hover-text-color: var(--text-color-main);
    --button-text-color-on-accent: #FFFFFF; /* Text on accent-colored buttons is light */
    --button-text-color-on-warning: #000000;
    --button-secondary-text-color: var(--text-color-main);

    /* Borders */
    --header-border-color: #E0E0E8;
    --card-border-color: #D8D8E0;
    --input-border-color: #C8C8D8;
    --border-color-soft: #E8E8F0;
    --button-border-color: #C0C0D0;

    /* Buttons & Interactive Elements */
    --button-bg-color: var(--secondary-color); /* Light gray buttons */
    --button-hover-bg-color: #E0E0E8;
    --fab-bg-color: var(--interactive-accent-color); /* FABs are accent colored */
    --fab-hover-bg-color: var(--interactive-accent-color-darker);
    --fab-text-color: #FFFFFF;
    /* success, warning, danger already in body general, but can be overridden for light if needed */
    /* --success-color: #228B22; */ /* Example: Forest Green - slightly darker for light theme */
    /* --warning-color: #FFB300; */ /* Example: Amber */
    /* --danger-color: #D32F2F; */  /* Example: Darker Red */
    --danger-color-faded: rgba(211, 47, 47, 0.3);

    /* Shadows */
    --shadow-color-soft: rgba(0,0,0,0.05);
    --shadow-color-medium: rgba(0,0,0,0.1);
    --shadow-color-strong: rgba(0,0,0,0.15);
    --fab-shadow-color: var(--shadow-color-medium);

    /* Mobile Navigation (Light specific if different from general light component styling) */
    --mobile-nav-bg-color: #FFFFFF;
    --mobile-nav-border-color: var(--header-border-color);
    --mobile-nav-text-color: var(--text-color-subtle);
    --mobile-menu-panel-bg-color: #F8F8FC;
    --mobile-menu-panel-text-color: var(--text-color-main);
    --mobile-menu-panel-hover-bg-color: #EFEFF9;
    --mobile-menu-panel-divider-color: var(--header-border-color);

    /* Glow effects */
    --glow-effect-color-1: rgba(139, 92, 246, 0.08);
    --glow-effect-color-2: rgba(139, 92, 246, 0.05);
    --glow-effect-color-3: rgba(168, 85, 247, 0.03);
}

/* Visually hide skip link until it receives focus (from global.css) */
.skip-link {
  position: absolute;
  left: -9999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
  z-index: 9999; /* Ensure it's on top when focused */
}

.skip-link:focus {
  left: 0;
  top: 0;
  width: auto;
  height: auto;
  overflow: visible;
  padding: 0.5rem 1rem;
  background: var(--modal-content-bg); /* Use a theme-aware background */
  color: var(--text-color-main); /* Use a theme-aware text color */
  border: 1px solid var(--interactive-accent-color);
}
