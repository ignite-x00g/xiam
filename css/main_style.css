body {
  margin:0;
  font-family:'Segoe UI',Arial,sans-serif;
  background:var(--clr-bg);
  color:var(--clr-text);
  transition:background .3s;
}

/* body.dark might be used by theme toggles, or body[data-theme="dark"] */
/* Using body.dark from the sample for now for color variable overrides */
body.dark {
  --clr-bg: var(--clr-bg-dark); /* More robust: use pre-defined dark versions */
  --clr-text: var(--clr-text-dark);
  /* Ensure components using these variables respond accordingly */
}

/* Other main styles will be added here */

/*************  FAB STACK  *************/
.fab-container { /* Was .fab-stack in sample */
  position:fixed;
  bottom:20px;
  right:20px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
  z-index:5000; /* Ensure it's high enough */
}

.fab { /* Was .fab-btn in sample */
  width:var(--fab-size);
  height:var(--fab-size);
  border:none;
  border-radius:50%;
  background:var(--clr-primary);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.25rem;
  cursor:pointer;
  box-shadow:0 4px 8px rgba(0,0,0,0.37); /* Adjusted alpha for #0006 */
  position:relative;
  text-decoration: none; /* If it's an anchor styled as button */
}

.fab:hover {
  background:var(--clr-primary-dark);
}

/* Tooltip for FABs (assuming title attribute is used as in sample) */
.fab[title]::after {
  content:attr(title);
  position:absolute;
  right:70px; /* Adjust if needed based on fab-text */
  background:#333;
  color:#fff;
  padding:4px 8px;
  border-radius:6px;
  font-size:.75rem;
  white-space:nowrap;
  display:none;
  z-index: 5001; /* Above the FAB itself */
}

.fab:hover::after {
  display:block;
}

.fab .fab-content-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
}

.fab .fab-icon-image-area {
  /* Styles for icon area if needed, e.g., font size for <i> tags */
}

.fab .fab-text {
  font-size: 0.65rem;
  margin-top: 2px;
  display: none; /* Initially hidden, theme/component CSS can override */
}

/*************  MOBILE NAV BASE  *************/
/* General style for all mobile-nav containers */
.mobile-nav {
  display:flex;
  gap:10px;
  padding:.5rem 1rem;
  background:var(--clr-bg);
  border-radius:30px;
  box-shadow:0 4px 8px rgba(0,0,0,0.18);
  z-index:3000;
}

/* Styles for items within any .mobile-nav */
.mobile-nav-item {
  display:flex;
  flex-direction:column;
  align-items:center;
  background:none;
  border:none;
  cursor:pointer;
  text-decoration:none;
  color:var(--clr-text);
  font-size:.75rem;
}

.mobile-nav-item i {
  font-size:1.4rem;
}

/* General style for all mobile-services-menu containers */
.mobile-services-menu {
  background:var(--clr-bg);
  border:1px solid #ccc;
  border-radius:10px;
  padding:1rem;
  max-height:50%;
  overflow-y:auto;
  display:none; /* Initially hidden, .active class will show it */
  z-index:2000;
}

.mobile-services-menu.active {
  display:block;
}

.mobile-services-menu a,
.mobile-services-menu button {
  display:block;
  margin-bottom:10px;
  text-decoration:none;
  color:var(--clr-text);
  font-size:1rem;
  background:none;
  border:none;
  padding:0;
  text-align:left;
  cursor:pointer;
  width:100%;
}

body.dark .mobile-nav,
body.dark .mobile-services-menu {
  background:var(--clr-bg-dark);
  border-color:#444;
}

body.dark .mobile-nav-item,
body.dark .mobile-services-menu a,
body.dark .mobile-services-menu button {
  color:var(--clr-text-dark);
}

#newFabToggle {
    position: fixed;
    bottom: 80px;
    right: 20px;
    width: var(--fab-size);
    height: var(--fab-size);
    border-radius: 50%;
    background: var(--clr-accent);
    color: #fff;
    display: flex; /* Controlled by responsive styles */
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    border: none;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    cursor: pointer;
    z-index: 4000;
}
#newFabToggle:hover {
    filter: brightness(90%);
}

#mobile-bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    justify-content: space-around;
    border-radius: 0;
    box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
    z-index: 2999;
}

#newMobileNav {
    position: fixed;
    bottom: calc(20px + var(--fab-size) + 10px + 10px);
    right: 20px;
    flex-direction: column;
    width: auto;
    min-width: 150px;
    border-radius: 10px;
    transform: scaleY(0);
    transform-origin: bottom;
    transition: transform .3s ease-out;
}

#newMobileNav.active {
    transform: scaleY(1);
}

#mobile-services-panel {
    position: fixed;
    bottom: 60px;
    left: 0;
    right: 0;
    width: 90%;
    margin: 0 auto;
    border-radius: 10px;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.15);
}

#newMobileServicesMenu {
    position: fixed;
    bottom: calc(20px + var(--fab-size) + 10px + 10px + 10px);
    right: calc(20px + 150px + 10px) ;
    width: auto;
    min-width: 200px;
}
