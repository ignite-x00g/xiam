/* General Body and Layout - Base from main_style.css, vars from theme.css */
body {
  margin:0;
  font-family:'Segoe UI',Arial,sans-serif;
  background: var(--body-bg-color);
  color: var(--text-color-main);
  transition: background .3s, color .3s; /* Added color transition */
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* Theme class will be on body directly, so no need for body.dark here if body.dark in theme.css handles it */

main {
  flex-grow: 1;
}

footer {
  text-align: center;
  padding: 1rem;
  background-color: var(--card-bg-color); /* Using card-bg as a generic secondary bg */
  border-top: 1px solid var(--border-color-soft);
}

*{box-sizing:border-box}
input,textarea,button,select{
  -webkit-tap-highlight-color:transparent;
  outline:none;
  font-family: inherit; /* Inherit font for form elements */
}

/* Shared Input Styles - Merged from both, using theme.css vars */
input,textarea,select {
  width:100%;
  padding:.65rem .7rem; /* Style.css used .65rem .7rem, main_style.css used .6rem */
  margin-top:.25rem; /* Style.css used .25rem, main_style.css used .2rem */
  border-radius:8px; /* Style.css used 8px, main_style.css used 6px */
  border:1px solid var(--input-border-color);
  font-size:.94rem; /* Style.css used .94rem, main_style.css used 1rem */
  background: var(--input-bg-color);
  color: var(--text-color-main); /* Ensure color is from theme */
  transition: border-color .2s, box-shadow .2s; /* Style.css transition */
}
textarea{resize:vertical}

input:focus-visible,textarea:focus-visible,select:focus-visible {
  border-color: var(--interactive-accent-color); /* Was --a in style.css */
  box-shadow:0 0 0 3px var(--interactive-accent-color-faded); /* Was --ad33 in style.css, using interactive-accent-color-faded */
}
/* No specific body.dark input overrides here, theme.css variables handle it */


/* MODAL STYLES - Merged from both, preferring style.css structure with theme.css vars */
.modal-overlay {
  position:fixed;
  inset:0;
  background: var(--modal-backdrop-bg); /* From theme.css */
  display:none; /* DMM handles .active */
  align-items:center;
  justify-content:center;
  padding:1rem;
  z-index:4000; /* style.css z-index */
  backdrop-filter:blur(2px); /* from style.css */
}
.modal-overlay.active{display:flex}

.modal-content {
  background: var(--modal-content-bg); /* theme.css var */
  color: var(--text-color-main);       /* theme.css var */
  border-radius:14px; /* style.css */
  width:92%; /* style.css */
  max-width:820px; /* style.css */
  max-height:84vh; /* style.css */
  overflow-y:auto;
  padding:1.6rem; /* style.css */
  box-shadow:0 8px 32px var(--shadow-color-strong); /* theme.css var, style.css had #0006 */
}

/* Specific modal content for service modals (from main_style.css) */
/* This might need review if all modals should follow the general .modal-content above */
.service-modal-center .modal-content {
  background-color: var(--modal-content-bg);
  padding: 20px; /* main_style uses 20px, general uses 1.6rem */
  border-radius: 8px; /* main_style uses 8px, general uses 14px */
  box-shadow: 0 4px 10px var(--shadow-color-medium); /* theme.css var */
  max-width: 90%;
  max-height: 90vh;
  overflow-y: auto;
}
.service-modal-center { /* This was an alias for modal-overlay in main_style.css */
  display: flex;
  align-items: center;
  justify-content: center;
}


.modal-header,.modal-footer {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:1rem;
  /* Added border from a theme example, optional */
  /* border-bottom: 1px solid var(--border-color-soft); */
  /* padding-bottom: 0.5rem; */
}
.modal-footer {
  /* border-top: 1px solid var(--border-color-soft); */
  /* padding-top: 0.5rem; */
  margin-top: 1rem; /* Add margin to footer if header has margin-bottom */
  margin-bottom: 0; /* Footer typically doesn't need margin-bottom if it's last */
}

.close-modal {
  font-size:1.6rem;
  border:0;
  background:none;
  cursor:pointer;
  color: var(--text-color-subtle); /* theme.css var */
}
.close-modal:hover{color:var(--interactive-accent-color)} /* Was --a */


/* FAB STACK - Merged, preferring style.css structure with theme.css vars */
.fab-stack {
  position:fixed;
  bottom:24px; /* style.css */
  right:24px;  /* style.css */
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;    /* style.css */
  z-index:5000; /* style.css had 5e3 */
}

.fab-btn {
  width:var(--fab-size); /* theme.css var */
  height:var(--fab-size); /* theme.css var */
  border:0;
  border-radius:50%;
  background:var(--fab-bg-color); /* theme.css var */
  color:var(--fab-text-color);       /* theme.css var */
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.4rem; /* style.css */
  cursor:pointer;
  box-shadow:0 6px 14px var(--fab-shadow-color); /* theme.css var, style.css had #0004 */
  transition: background-color .2s, transform .2s; /* style.css */
  text-decoration: none; /* from main_style.css */
  position:relative; /* from main_style.css for tooltip */
}
.fab-btn:hover {
  background:var(--fab-hover-bg-color); /* theme.css var */
  transform:translateY(-3px); /* style.css */
}
.fab-btn:active{transform:scale(.96)} /* style.css */

/* Tooltip for FABs from style.css, adapted with theme.css vars */
.fab-btn[aria-label]::after, .fab-btn[title]::after { /* Combined from both files */
  content:attr(aria-label); /* Prefer aria-label if present */
  position:absolute;
  right:calc(var(--fab-size) + 14px); /* Adjusted from 78px / 70px to be relative */
  background: var(--secondary-color); /* theme.css var, was rgba(0,0,0,.7) or #333 */
  color: var(--text-color-main);    /* theme.css var */
  padding:4px 10px; /* style.css */
  border-radius:6px;
  font-size:.8rem; /* style.css */
  white-space:nowrap;
  opacity:0; /* style.css had display:none, main_style.css had opacity */
  transform:translateX(4px); /* style.css */
  transition: opacity .2s, transform .2s; /* style.css */
  backdrop-filter:blur(3px); /* style.css, may not be very visible on dark bg */
  z-index: 5001; /* main_style.css */
}
.fab-btn[title]:not([aria-label])::after { /* Fallback to title if aria-label is not present */
    content: attr(title);
}
.fab-btn:hover::after {
  opacity:1;
  transform:none;
}


/* MOBILE NAV (General - from style.css, to be reviewed with nav consolidation) */
/* This is for the #mobileNav and #mobileServicesMenu in index.html */
@media(max-width:768px){
  .mobile-nav#mobileNav {
    position:fixed;
    bottom:24px; /* style.css */
    right:calc(24px + var(--fab-size) + 22px); /* style.css, used var(--fab) */
    display:flex;
    flex-direction:row-reverse;
    gap:10px;
    padding:.6rem 1.2rem; /* style.css */
    background:var(--mobile-nav-bg-color); /* theme.css var */
    border-radius:40px; /* style.css */
    box-shadow:0 6px 14px var(--shadow-color-medium); /* theme.css var, style.css had #0004 */
    z-index:3000;
    transform:scaleX(0);
    transform-origin:right;
    transition:transform .3s;
    /* From style.css - for horizontal scrolling if items overflow */
    flex-wrap:nowrap;
    white-space:nowrap;
    overflow-x:auto;
    max-width:calc(100% - 48px);
  }
  .mobile-nav#mobileNav.active{
    transform:scaleX(1);
  }
  .mobile-nav-item { /* General for items in a .mobile-nav */
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:2px; /* style.css */
    background:none;
    border:0;
    cursor:pointer;
    color:var(--mobile-nav-text-color); /* theme.css var */
    font-size:.65rem; /* style.css, main_style.css used .75rem */
    text-decoration:none;
  }
  .mobile-nav-item i {
    font-size:1rem; /* style.css, main_style.css used 1.4rem */
  }
   .mobile-nav-item span { /* From main_style.css sample nav */
    display: block;
  }

  .mobile-services-menu#mobile-services-menu { /* ID specific from style.css */
    position:fixed;
    bottom:110px; /* style.css */
    right:24px; /* style.css */
    background:var(--mobile-menu-panel-bg-color); /* theme.css var */
    border:1px solid var(--mobile-menu-panel-divider-color); /* theme.css var, style.css used #ccc */
    border-radius:12px; /* style.css, main_style.css used 10px */
    padding:1rem;
    max-height:55%; /* style.css, main_style.css used 50% */
    overflow-y:auto;
    display:none;
    z-index:2000;
    box-shadow: 0 -2px 10px var(--shadow-color-soft); /* main_style.css sample nav */
  }
  .mobile-services-menu#mobile-services-menu.active{
    display:block;
  }
  /* Links/buttons inside #mobile-services-menu */
  .mobile-services-menu#mobile-services-menu a,
  .mobile-services-menu#mobile-services-menu button {
    display:block;
    width:100%;
    margin-bottom:10px; /* main_style.css */
    text-decoration:none;
    color:var(--mobile-menu-panel-text-color); /* theme.css var */
    font-size:1rem;
    background:none;
    border:none;
    padding:0.5rem; /* main_style.css */
    text-align:left;
    cursor:pointer;
    border-radius: 4px; /* main_style.css */
  }
   .mobile-services-menu#mobile-services-menu a:hover,
   .mobile-services-menu#mobile-services-menu button:hover {
    background-color: var(--mobile-menu-panel-hover-bg-color); /* theme.css var */
   }
}
/* Hide this specific mobile nav on larger screens */
@media(min-width:769px){
  .mobile-nav#mobileNav,
  .mobile-services-menu#mobile-services-menu {
    display:none;
  }
}

/* JOIN MODAL & CONTACT MODAL FORM STYLES - Merged */
.form-pairs{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:1.3rem 2rem; /* main_style.css had 1.3rem 2rem, style.css had 1.2rem 2rem */
}
@media(max-width:800px){.form-pairs{grid-template-columns:1fr}}

.form-section{
  border:1px solid var(--input-border-color); /* theme.css var, was #ddd */
  background:var(--form-section-bg-color);    /* theme.css var, was #f9f9f9 */
  padding:1rem;
  border-radius:10px; /* style.css */
  display:flex;
  flex-direction:column;
  gap:.6rem;
  transition: border-color .3s, background-color .3s; /* style.css transition */
}
.form-section.completed{border-color:var(--success-color)} /* theme.css var */

.section-header{display:flex;justify-content:space-between;align-items:center}
.circle-btn{
  width:28px;height:28px;border-radius:50%;border:0;
  background:var(--interactive-accent-color); /* Was --p */
  color:var(--button-text-color-on-accent); /* theme.css var */
  font-weight:700; /* style.css */
  cursor:pointer;font-size:1.05rem; /* style.css */
  margin-left:.4rem; /* main_style.css */
}
.circle-btn.remove{background:var(--danger-color)} /* theme.css var */

.accept-btn,.edit-btn{
  background:var(--success-color); /* theme.css var */
  color:var(--button-text-color-on-accent); /* theme.css var */
  padding:.45rem 1rem; /* style.css */
  border:0;border-radius:6px; /* style.css */
  font-size:.85rem; /* style.css */
  cursor:pointer;margin-top:.3rem; /* main_style.css */
}
.edit-btn{
  background:var(--warning-color); /* theme.css var */
  color:var(--button-text-color-on-warning); /* theme.css var */
}
.hidden{display:none} /* style.css */

/* CONTACT FORM specific (from style.css, also in main_style.css) */
.form-row{display:flex;flex-wrap:wrap;gap:1rem}
.form-cell{flex:1 1 48%;display:flex;flex-direction:column}
@media(max-width:600px){.form-cell{flex:1 1 100%}}


/* CHATBOT (Direct DOM version) - Merged from style.css and main_style.css, using theme vars */
/* This will be reviewed when chatbot strategy is finalized */
#chatbot-container {
  width:100%; /* main_style.css, takes width of modal-content */
  /* style.css had fixed width:300px for #chatbot-container, but if it's inside modal-content, 100% is better */
  height:540px; /* From style.css (fixed height), main_style also has this */
  background: var(--card-bg-color); /* theme.css var, was #251541 or #2e1852 */
  border:2px solid var(--interactive-accent-color); /* theme.css var, was --a or --clr-accent */
  border-radius:8px; /* Match modal-content or use own. style.css had 18px, main_style 8px */
  box-shadow:0 8px 32px var(--shadow-color-strong); /* theme.css var, was #0006 */
  display:flex;flex-direction:column;overflow:hidden;
}
#chatbot-header {
  background:linear-gradient(135deg, var(--interactive-accent-color), var(--interactive-accent-color-darker)); /* style.css, adjusted vars */
  color:var(--button-text-color-on-accent); /* theme.css var */
  text-align:center;font-weight:600;padding:1rem; /* style.css */
  font-size:1.25rem; /* main_style.css */
}
#chat-log {
  flex:1;overflow-y:auto;padding:1rem;
  background:var(--body-bg-color); /* theme.css var, was #1b0e2d or #121212 */
  color:var(--text-color-main);    /* theme.css var */
  font-size:.94rem; /* style.css */
}
.chat-msg{margin:.5rem 0;max-width:90%; word-wrap: break-word;} /* style.css, main_style.css had margin-bottom */
.user { /* from style.css, slightly different from main_style.css */
  margin-left:auto;
  background:var(--interactive-accent-color);
  color:var(--button-text-color-on-accent); /* Was #000 in style.css */
  padding:.5rem .7rem;
  border-radius:14px 14px 0 14px;
}
.bot { /* from style.css, slightly different from main_style.css */
  margin-right:auto;
  background:var(--secondary-color); /* theme.css var, was #321b53 */
  color:var(--text-color-main); /* Was #fff in style.css */
  padding:.5rem .7rem;
  border-radius:14px 14px 14px 0;
}
#chatbot-form-container {
  background:var(--card-bg-hover-color); /* theme.css var, was #220f3a or #171717 */
  border-top:1px solid var(--interactive-accent-color); /* theme.css var */
  padding:.55rem .7rem; /* style.css */
}
#chatbot-input-row{display:flex;gap:.6rem; margin-bottom: 0.5rem;} /* style.css, main_style.css added margin */
#chatbot-input{
  flex:1;background:transparent;border:0;
  color:var(--text-color-main); /* Was #fff in style.css */
  font-size:.95rem; /* style.css */
  padding:.7rem; /* From main_style.css, style.css had no padding here */
}
#chatbot-send {
  display:flex;align-items:center;gap:6px; /* style.css */
  background:var(--interactive-accent-color); /* theme.css var */
  border:0;color:var(--button-text-color-on-accent); /* theme.css var */
  font-weight:600;padding:.5rem .85rem; /* style.css */
  border-radius:8px;cursor:pointer;
}
#chatbot-send i{transition:transform .3s} /* style.css */
#chatbot-send:hover i{transform:rotate(-45deg)} /* style.css */
#chatbot-send:disabled{background:#555;cursor:not-allowed}

.human-check{
  color:var(--text-color-subtle); /* theme.css var, was #ddd */
  font-size:.85rem; /* style.css */
  display:flex;align-items:center;margin-top:.3rem; /* style.css */
}
.human-check input{margin-right:.4rem} /* style.css */

/* Responsive for Chatbot container (from style.css, also mentioned in main_style.css) */
/* Note: If chatbot is inside a modal-content that is already responsive, this might not be strictly needed */
/* Or, it's for when the chatbot modal itself takes a large portion of the screen on mobile */
@media(max-width:600px){
  #chatbotModal .modal-content { /* If chatbot is in a modal, size the modal-content */
      width: 90%;
      height: 75vh; /* style.css */
      padding: 0; /* Chatbot container handles its own padding */
  }
  /* If #chatbot-container is NOT inside a modal-content but directly in modal-overlay: */
  /* #chatbot-container{height:75vh;width:90%} */
}


/* FAB MODAL STYLES (80% screen) from main_style.css */
/* These provide alternative sizing for specific modals. */
/* These might conflict with the general .modal-content if IDs are also on .modal-overlay */
/* Assuming IDs are on the .modal-overlay element */
#joinModal .modal-content,   /* Was #join-us-modal */
#contactModal .modal-content { /* Was #contact-us-modal */
  width: 80vw;
  height: 80vh;
  max-width: 80vw; /* Ensure these don't exceed viewport */
  max-height: 80vh;
  padding: 20px;
}
#chatbotModal .modal-content { /* ID for the main chatbot modal in index.html */
  /* If using the direct DOM chatbot, its container is #chatbot-container, not modal-content directly */
  /* This rule is for when the modal-content of #chatbotModal itself needs specific sizing */
  width: auto; /* Let content (#chatbot-container) define width, up to modal-content max-width */
  max-width: 350px; /* Example: constrain width of chatbot modal */
  height: auto; /* Let content define height */
  padding: 0; /* Chatbot container has its own padding */
}


/* Styles for other mobile navs from main_style.css have been removed as the elements do not exist. */

/* General mobile-nav, mobile-nav-item, mobile-services-menu from main_style.css (MOBILE NAV BASE) */
/* These are generic and might apply to #mobileNav from index.html if specific styles above don't override */
/* The specific styles for .mobile-nav#mobileNav and .mobile-services-menu#mobileServicesMenu take precedence. */
/* This .mobile-nav rule could be a base for any *other* elements with just .mobile-nav class if needed. */
.mobile-nav {
  display:flex;
  gap:10px;
  padding:.5rem 1rem;
  background:var(--mobile-nav-bg-color); /* theme.css */
  border-radius:30px;
  box-shadow:0 4px 8px var(--shadow-color-medium); /* theme.css */
  z-index:3000;
}
/* .mobile-nav-item is already styled above for #mobileNav specifically. */
/* .mobile-services-menu is already styled above for #mobileServicesMenu specifically. */


/* Styles for #newFabToggle, #mobile-bottom-nav etc. from main_style.css have been removed as elements do not exist. */


/* Home-page hero alignment from main_style.css */
/* These need careful review if they are still relevant and use correct theme vars */
.header-content {
  position: fixed;
  top: 25px;
  left: 25px;
  margin: 0;
  line-height: 1.15;
  z-index: 1100;
}
.header-content .main-header-text,
.header-content .sub-header-text {
    margin: 0;
    /* Ensure text color is from theme */
    color: var(--text-color-emphasis); /* Example, or --text-color-main */
}
.header-content .sub-header-text {
    color: var(--text-color-subtle);
}

.header-toggles { /* Container for theme/lang toggles in header */
    position: fixed;
    top: 25px;
    right: 20px;
    z-index: 1200;
    display: flex;
    align-items: center;
    gap: 0.5rem; /* Added gap between toggles */
}
/* .theme-toggle-btn and .lang-toggle-btn in header should be styled if not covered by general button styles */
/* Example for generic header toggle buttons */
.header-toggles .button-like-toggle { /* Add this class to header buttons if needed */
    padding: 0.3rem 0.6rem;
    border: 1px solid var(--input-border-color);
    background-color: var(--button-secondary-bg-color);
    color: var(--button-secondary-text-color);
    border-radius: 6px;
    cursor: pointer;
}
.header-toggles .button-like-toggle:hover {
    background-color: var(--button-secondary-hover-bg-color);
}


.services-section {
  position: fixed;
  top: 250px;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
  display: block;
  padding: 20px;
  background: var(--card-bg-color); /* Was --clr-bg, now themed */
  z-index: 1000;
  width: auto;
  border-radius: 8px; /* Added for consistency */
}
.services-section .services-navigation,
.services-section .service-nav-list {
    display: inline-block;
    text-align: left;
}
.services-section .services-section-title {
   color: var(--text-color-emphasis); /* Themed text color */
   margin-bottom: 1rem; /* Add some space */
}
/* Service navigation items/pills */
.service-nav-item { /* Assuming this class is on the buttons/links */
    padding: 0.5rem 1rem;
    margin: 0.25rem;
    border-radius: 20px; /* Pill shape */
    background-color: var(--button-secondary-bg-color);
    color: var(--button-secondary-text-color);
    text-decoration: none;
    border: 1px solid transparent;
    transition: background-color 0.2s, color 0.2s;
}
.service-nav-item:hover {
    background-color: var(--interactive-accent-color);
    color: var(--button-text-color-on-accent);
}


@media (max-width: 480px) {
  .services-section {
    width: 90vw;
    top: 200px;
    left: 50%;
    transform: translateX(-50%);
  }
}

/* Ensure skip link is styled, it was in theme.css, but good to have here too if theme.css is optional or loaded after */
.skip-link {
  position: absolute;
  left: -9999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
  z-index: 9999;
}
.skip-link:focus {
  left: 0;
  top: 0;
  width: auto;
  height: auto;
  overflow: visible;
  padding: 0.5rem 1rem;
  background: var(--modal-content-bg);
  color: var(--text-color-main);
  border: 1px solid var(--interactive-accent-color);
}

/* Visually hidden class for accessibility */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap; /* added line */
  border: 0;
}
