/*************  CSS VARIABLES  *************/
:root{
  --clr-primary:#007bff;
  --clr-primary-dark:#005dc9;
  --clr-accent:#ae7cff;
  --clr-bg:#fff;
  --clr-bg-dark:#222;
  --clr-text:#333;
  --clr-text-dark:#eee;
  --fab-size:56px;
}
body{margin:0;font-family:'Segoe UI',Arial,sans-serif;background:var(--clr-bg);color:var(--clr-text);transition:background .3s}
body.dark{--clr-bg:#121212;--clr-text:#eee}

/*************  FAB STACK  *************/
.fab-stack{position:fixed;bottom:20px;right:20px;display:flex;flex-direction:column;align-items:center;gap:10px;z-index:5000}
.fab-btn{width:var(--fab-size);height:var(--fab-size);border:none;border-radius:50%;background:var(--clr-primary);color:#fff;
  display:flex;align-items:center;justify-content:center;font-size:1.25rem;cursor:pointer;box-shadow:0 4px 8px #0006;position:relative}
.fab-btn:hover{background:var(--clr-primary-dark)}
/* Tooltip */
.fab-btn[title]::after{content:attr(title);position:absolute;right:70px;background:#333;color:#fff;padding:4px 8px;border-radius:6px;font-size:.75rem;white-space:nowrap;display:none}
.fab-btn:hover::after{display:block}

/*************  MOBILE NAV  *************/
@media(max-width:768px){
  .mobile-nav{position:fixed;bottom:20px;right:90px;display:flex;flex-direction:row-reverse;gap:10px;padding:.5rem 1rem;background:var(--clr-bg);border-radius:30px;
    box-shadow:0 4px 8px #0003;z-index:3000;transform:scaleX(0);transform-origin:right;transition:transform .3s}
  .mobile-nav.active{transform:scaleX(1)}
  .mobile-nav-item{display:flex;flex-direction:column;align-items:center;background:none;border:none;cursor:pointer;text-decoration:none;color:var(--clr-text);font-size:.75rem}
  .mobile-nav-item i{font-size:1.4rem}
  /* Services pop-up */
  .mobile-services-menu{position:fixed;bottom:90px;right:20px;background:var(--clr-bg);border:1px solid #ccc;border-radius:10px;padding:1rem;max-height:50%;overflow-y:auto;display:none;z-index:2000}
  .mobile-services-menu.active{display:block}
  .mobile-services-menu a{display:block;margin-bottom:10px;text-decoration:none;color:var(--clr-text);font-size:1rem}
  body.dark .mobile-nav,body.dark .mobile-services-menu{background:#222;border-color:#444}
  body.dark .mobile-nav-item,body.dark .mobile-services-menu a{color:#eee}
}
@media(min-width:769px){.mobile-nav,.mobile-services-menu{display:none}}

/*************  MODAL FOUNDATION  *************/
.modal-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;padding:1rem;z-index:4000}
.modal-overlay.active{display:flex}
.modal-content{background:var(--clr-bg);border-radius:12px;width:90%;max-width:810px;max-height:82vh;overflow-y:auto;padding:1.5rem;box-shadow:0 0 20px #0003;color:var(--clr-text)}
.modal-header,.modal-footer{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}
.close-modal{font-size:1.5rem;background:none;border:none;cursor:pointer;color:inherit}
body.dark .modal-content{background:#1e1e1e;color:#eee}

/*************  SHARED INPUT STYLES  *************/
input,textarea,select{width:100%;padding:.6rem;margin-top:.2rem;border-radius:6px;border:1px solid #ccc;font-size:1rem;background:var(--clr-bg);color:inherit}
textarea{resize:vertical}

/*************  JOIN MODAL (rich form)  *************/
.form-pairs{display:grid;grid-template-columns:1fr 1fr;gap:1.3rem 2rem}
@media(max-width:800px){.form-pairs{grid-template-columns:1fr}}
.form-section{border:1px solid #ddd;padding:1rem;border-radius:8px;background:#f9f9f9;display:flex;flex-direction:column;gap:.6rem}
.form-section.completed{border-color:#28a745}
.section-header{display:flex;justify-content:space-between;align-items:center}
.circle-btn{width:28px;height:28px;border-radius:50%;border:none;background:var(--clr-primary);color:#fff;font-weight:bold;cursor:pointer;font-size:1.2rem;margin-left:.4rem}
.circle-btn.remove{background:#dc3545}
.accept-btn,.edit-btn{background:#28a745;color:#fff;padding:.4rem 1rem;border:none;border-radius:4px;font-size:.9rem;cursor:pointer;margin-top:.3rem}
.edit-btn{background:#ffc107;color:#000}
.form-section.completed h2::after{content:" âœ…";font-size:1rem;color:#28a745}

/*************  CONTACT MODAL  *************/
.form-row{display:flex;flex-wrap:wrap;gap:1rem}
.form-cell{flex:1 1 48%;display:flex;flex-direction:column}
@media(max-width:600px){.form-cell{flex:1 1 100%}}

/*************  CHATBOT  *************/
#chatbot-container{width:295px;height:540px;background:#2e1852;border-radius:18px;border:2px solid var(--clr-accent);box-shadow:0 8px 32px #0006;display:flex;flex-direction:column;overflow:hidden}
#chatbot-header{background:var(--clr-accent);color:#fff;padding:1rem;font-weight:bold;font-size:1.25rem;text-align:center}
#chat-log{flex:1;padding:1rem;overflow-y:auto;background:#1b0e2d;color:#fff;font-size:1rem}
.chat-msg{margin-bottom:.7rem}.user{text-align:right;color:#e7e7e7}.bot{text-align:left;color:var(--clr-accent)}
#chatbot-form-container{background:#220f3a;border-top:1px solid var(--clr-accent);padding:.5rem}
#chatbot-input-row{display:flex;margin-bottom:.5rem}
#chatbot-input{flex:1;padding:.7rem;border:none;background:transparent;color:#fff;font-size:1rem}
#chatbot-send{background:var(--clr-accent);border:none;color:#fff;font-weight:bold;padding:0 1.2rem;cursor:pointer}
#chatbot-send:disabled{background:#555;cursor:not-allowed}
.human-check{color:#ddd;font-size:.9rem;display:flex;align-items:center}.human-check input{margin-right:.5rem}
@media(max-width:600px){#chatbot-container{height:45vhvh;width:85%}}
