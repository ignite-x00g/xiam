<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-en="OPS Online Support" data-es="OPS Soporte en Línea">OPS Online Support</title>
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/main_style.css"> <!-- Added main_style.css -->
    <link rel="stylesheet" href="css/small-screen.css">
    <!-- Link to component-specific CSS if/when created, e.g., components/join-us/join-us.css -->
    <link rel="stylesheet" href="components/join-us/join-us.css"> <!-- Linking join-us.css as it exists -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Chatbot Placeholder styles */
        #chatbot-placeholder {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 400px; /* Increased base width for larger screens */
            max-width: 90vw; /* Responsive max-width for smaller screens */
            height: 600px; /* Increased base height for larger screens */
            max-height: 80vh; /* Responsive max-height, adjusted to 80% target */
            border: 1px solid #ccc;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border-radius: 8px;
            overflow: hidden;
            display: none; /* Initially hidden */
            flex-direction: column;
            background-color: #fff;
            z-index: 1000; /* Ensure it's above other content like FABs */
        }
        body[data-theme="dark"] #chatbot-placeholder {
            border-color: #555;
            background-color: #222;
        }
        #chatbot-placeholder.active {
            display: flex;
        }
        /* Media query for smaller screens to center the chatbot */
        @media (max-width: 768px) {
            #chatbot-placeholder {
                bottom: auto;
                right: auto;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
        }
        .chatbot-placeholder-close-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #f1f1f1;
            color: #333;
            border: 1px solid #ccc;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            font-size: 18px;
            font-weight: bold;
            line-height: 26px;
            text-align: center;
            cursor: pointer;
            z-index: 10; /* Above iframe content */
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .chatbot-placeholder-close-btn:hover {
            background: #e0e0e0;
        }
        body[data-theme="dark"] .chatbot-placeholder-close-btn {
            background: #4f4f4f;
            border-color: #666;
            color: #f0f0f0;
        }
        body[data-theme="dark"] .chatbot-placeholder-close-btn:hover {
            background: #5a5a5a;
        }

        /*
        The #chatbot-fab-trigger button is part of the .fab-container
        and will be styled by the .fab class and positioned by .fab-container.
        The specific fixed positioning and appearance styles previously here
        are removed to allow it to behave as a standard FAB within the container.
        Loader.js looks for #chatbot-fab-trigger for desktop and #mobileChatLauncher for mobile.
        */

        /* Hide main FAB trigger if placeholder is active (using :has for modern browsers) */
        /* Note: #chatbot-fab-trigger is one of the FABs in .fab-container */
        body:has(#chatbot-placeholder.active) #chatbot-fab-trigger {
            display: none !important; /* Ensure chat fab itself is hidden */
        }

        /* Ensure other FABs in the container remain visible and interactive */
        body:has(#chatbot-placeholder.active) .fab-container > .fab:not(#chatbot-fab-trigger) {
            display: flex !important; /* .fab elements use display: flex */
            opacity: 1 !important;
            visibility: visible !important;
            /* z-index should be inherited from .fab-container (1020) which is above #chatbot-placeholder (1000) */
            /* If specific promotion is needed: z-index: 1021; */        }
        /* Fallback for non-:has supporting browsers will be handled by loader.js adding a class to body or similar */

        /* Ensure mobile chat launcher is styled if it's a new button */
        /* If reusing an existing one, these might not be needed or need adjustment */
        #mobileChatLauncher { /* This ID is what loader.js looks for by default for mobile */
            /* Styles might be inherited if it's an existing, styled button. Add specific overrides if needed. */
            /* This button is part of #newMobileNav and styled by .mobile-nav-item */
        }
    </style>
</head>
<body class="dark"> <!-- Default to dark, global-toggles.js will adjust -->

    <a href="#main-content" class="skip-link" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;" data-en="Skip to main content" data-es="Saltar al contenido principal">Skip to main content</a>

    <header class="site-header">
        <div class="header-content">
            <h1 class="main-header-text" data-en="OPS" data-es="OPS">OPS</h1>
            <p class="sub-header-text" data-en="OPS Online Support&trade;" data-es="OPS Online Support&trade;">OPS Online Support&trade;</p>
        </div>
        <div class="header-toggles">
         <button id="theme-toggle-button" class="header-toggle-btn theme-toggle-btn"
                 aria-label="Toggle theme"
                 data-en-label-dark="Switch to Dark Theme" data-es-label-dark="Cambiar a Tema Oscuro"
                 data-en-label-light="Switch to Light Theme" data-es-label-light="Cambiar a Tema Claro"
                 title="Toggle Theme">Dark</button>
         <button id="language-toggle-button" class="header-toggle-btn lang-toggle-btn"
                 aria-label="Toggle language"
                 data-en-label="Switch to Spanish" data-es-label="Cambiar a Inglés"
                 title="Toggle Language"
                 data-en="EN" data-es="ES">EN</button>
        </div>
    </header>

    <main id="main-content">
        <section id="services" class="services-section">
            <h2 class="services-section-title" data-en="Our Services" data-es="Nuestros Servicios">Our Services</h2>
            <nav aria-label="Main services" class="services-navigation">
                <div class="service-nav-list">
                    <button class="service-nav-item" data-modal-target="business-operations-modal" data-modal-source="components/service-modals/business-operations.html" data-en="Business Operations" data-es="Gestion">Business Operations</button>
                    <button class="service-nav-item" data-modal-target="contact-center-modal" data-modal-source="components/service-modals/contact-center.html" data-en="Contact Center" data-es="Centro de Servicios">Contact Center</button>
                    <button class="service-nav-item" data-modal-target="it-support-modal" data-modal-source="components/service-modals/it-support.html" data-en="IT Support" data-es="Soporte Tecnico">IT Support</button>
                    <button class="service-nav-item" data-modal-target="professionals-modal" data-modal-source="components/service-modals/professionals.html" data-en="Professionals" data-es="Profesionales">Professionals</button>
                </div>
            </nav>
        </section>

        <section id="floating-action-buttons">
            <div class="fab-container">
            <button id="fab-join" class="fab" data-modal-target="join-us-modal" data-modal-source="components/join-us/join-us.html"
                    aria-label="Join Us" data-aria-label-en="Join Us" data-aria-label-es="Únete"
                    title="Join Us" data-title-en="Join Us" data-title-es="Únete">
                    <div class="fab-content-wrapper">
                        <div class="fab-icon-image-area"><i class="fas fa-user-plus"></i></div>
                        <span class="fab-text" data-en="Join Us" data-es="Únete">Join Us</span>
                    </div>
                </button>
            <button id="fab-contact" class="fab" data-modal-target="contact-us-modal" data-modal-source="components/contact-us/contact-us.html"
                    aria-label="Contact Us" data-aria-label-en="Contact Us" data-aria-label-es="Comuníquese con nosotros"
                    title="Contact Us" data-title-en="Contact Us" data-title-es="Comuníquese">
                    <div class="fab-content-wrapper">
                        <div class="fab-icon-image-area"><i class="fas fa-envelope"></i></div>
                        <span class="fab-text" data-en="Contact Us" data-es="Comuníquese">Contact Us</span>
                    </div>
                </button>
            <!-- fab-chatbot will be changed to chatbot-fab-trigger and styled by the new CSS -->
            <button id="chatbot-fab-trigger" class="fab"
                    aria-label="Open Chat" data-aria-label-en="Open Chat" data-aria-label-es="Abrir Chat"
                    title="Open Chat" data-title-en="Open Chat" data-title-es="Abrir Chat">
                    <div class="fab-content-wrapper">
                        <div class="fab-icon-image-area"><i class="fas fa-robot"></i></div>
                        <span class="fab-text" data-en="Chat" data-es="Chat">Chat</span>
                    </div>
                </button>
            </div>
        </section>
    </main>

    <div id="modal-backdrop" class="modal-backdrop" style="display: none;"></div>

    <!-- Modal Shells: Content will be loaded dynamically -->
    <div id="join-us-modal" class="modal-overlay" role="dialog" aria-labelledby="join-us-modal-title" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="join-us-modal-title" data-en="Join Us" data-es="Únete">Join Us</h3>
                <button class="close-modal" data-close-modal="join-us-modal" aria-label="Close" data-aria-label-en="Close" data-aria-label-es="Cerrar">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Content for Join Us modal will be loaded here from components/join-us/join-us.html -->
            </div>
        </div>
    </div>

    <div id="contact-us-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="contactModalTitle" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="contactModalTitle" data-en="Contact Us" data-es="Contáctenos">Contact Us</h3>
          <button class="close-modal" data-close-modal="contact-us-modal" aria-label="Close" data-aria-label-en="Close" data-aria-label-es="Cerrar">&times;</button>
        </div>
        <div class="modal-body">
            <!-- Content for Contact Us modal will be loaded here from components/contact-us/contact-us.html -->
        </div>
      </div>
    </div>

    <div id="business-operations-modal" class="modal-overlay service-modal-center" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Business Operations" data-es="Gestion">Business Operations</h3>
                <button class="close-modal" data-close-modal="business-operations-modal" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body"></div>
        </div>
    </div>
    <div id="contact-center-modal" class="modal-overlay service-modal-center" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Contact Center" data-es="Centro de Servicios">Contact Center</h3>
                <button class="close-modal" data-close-modal="contact-center-modal" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body"></div>
        </div>
    </div>
    <div id="it-support-modal" class="modal-overlay service-modal-center" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="IT Support" data-es="Soporte Tecnico">IT Support</h3>
                <button class="close-modal" data-close-modal="it-support-modal" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body"></div>
        </div>
    </div>
    <div id="professionals-modal" class="modal-overlay service-modal-center" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Professionals" data-es="Profesionales">Professionals</h3>
                <button class="close-modal" data-close-modal="professionals-modal" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body"></div>
        </div>
    </div>
    <!-- Removed old chatbot-modal div -->

    <!-- Chatbot placeholder for mychatbot -->
    <div id="chatbot-placeholder">
        <!-- The loader script (mychatbot/loader.js) will inject a close button and the iframe here. -->
    </div>

    <footer>
        <p data-en="&copy; 2025 OPS Online Support" data-es="&copy; 2025 OPS Online Support">&copy; 2025 OPS Online Support</p>
    </footer>

    <!-- Mobile Navigations -->
    <nav class="mobile-nav" id="mobile-bottom-nav">
        <a href="index.html" class="mobile-nav-item"><i class="fas fa-home"></i><span data-en="Home" data-es="Inicio">Home</span></a>
        <button class="mobile-nav-item" id="mobile-services-toggle"><i class="fas fa-bars"></i><span data-en="Services" data-es="Servicios">Services</span></button>
        <!-- Removed old mobile-chat-link, new one is in #newMobileNav -->
    </nav>
    <div class="mobile-services-menu" id="mobile-services-panel">
        <ul>
            <li><button data-service-target="business-operations-modal" data-modal-source="components/service-modals/business-operations.html" data-en="Business Operations" data-es="Gestion">Business Operations</button></li>
            <li><button data-service-target="contact-center-modal" data-modal-source="components/service-modals/contact-center.html" data-en="Contact Center" data-es="Centro de Servicios">Contact Center</button></li>
            <li><button data-service-target="it-support-modal" data-modal-source="components/service-modals/it-support.html" data-en="IT Support" data-es="Soporte Tecnico">IT Support</button></li>
            <li><button data-service-target="professionals-modal" data-modal-source="components/service-modals/professionals.html" data-en="Professionals" data-es="Profesionales">Professionals</button></li>
        </ul>
    </div>
    <button class="fab-toggle" id="newFabToggle" aria-label="Toggle Menu" data-aria-label-en="Toggle Menu" data-aria-label-es="Alternar Menú"><i class="fas fa-bars"></i></button>
    <nav class="mobile-nav" id="newMobileNav">
        <a href="index.html" class="mobile-nav-item" data-en-text="Home" data-es-text="Inicio"><i class="fas fa-home"></i><span data-en="Home" data-es="Inicio">Home</span></a>
        <button class="mobile-nav-item" id="newMobileServicesToggle" aria-expanded="false" aria-controls="newMobileServicesMenu" data-en-text="Services" data-es-text="Servicios"><i class="fas fa-cogs"></i><span data-en="Services" data-es="Servicios">Services</span></button>
        <button class="mobile-nav-item lang-toggle-btn" id="newMobileLanguageToggle" aria-label="Switch Language" title="Switch Language" data-en-label="Switch to Spanish" data-es-label="Cambiar a Inglés">EN</button>
        <button class="mobile-nav-item theme-toggle-btn" id="newMobileThemeToggle" aria-label="Toggle Theme" title="Toggle Theme" data-en-label-dark="Switch to Dark Theme" data-es-label-dark="Cambiar a Tema Oscuro" data-en-label-light="Switch to Light Theme" data-es-label-light="Cambiar a Tema Claro">Light</button>
        <button class="mobile-nav-item" id="mobileChatLauncher" aria-label="Open Chat" title="Open Chat" data-en-text="Chat" data-es-text="Chat"><i class="fas fa-comment-alt"></i><span data-en="Chat" data-es="Chat">Chat</span></button>
    </nav>
    <div class="mobile-services-menu" id="newMobileServicesMenu" aria-hidden="true">
        <ul>
            <li><button data-service-target="business-operations-modal" data-modal-source="components/service-modals/business-operations.html" data-en="Business Operations" data-es="Operaciones Empresariales">Business Operations</button></li>
            <li><button data-service-target="contact-center-modal" data-modal-source="components/service-modals/contact-center.html" data-en="Contact Center" data-es="Centro de Contacto">Contact Center</button></li>
            <li><button data-service-target="it-support-modal" data-modal-source="components/service-modals/it-support.html" data-en="IT Support" data-es="Soporte IT">IT Support</button></li>
            <li><button data-service-target="professionals-modal" data-modal-source="components/service-modals/professionals.html" data-en="Professionals" data-es="Profesionales">Professionals</button></li>
        </ul>
    </div>
    <!-- JS scripts -->
    <script src="js/global-toggles.js" defer></script>
    <script src="js/dynamic-modal-manager.js" defer></script>
    <script src="js/global-app.js" defer></script>
    <script src="components/contact-us/contact-us.js" defer></script>
    <script src="js/mobile-menu.js" defer></script>
    <script src="js/mobile-fab-nav.js" defer></script>
    <!-- Component-specific JS will be added here or loaded by dynamic-modal-manager -->
    <script src="components/join-us/join-us.js" defer></script>
    <!-- For Join Us, it will be explicitly linked as per plan -->

    <script src="mychatbot/loader.js" defer></script>
</body>
</html>
